<?xml version="1.0" encoding="utf-8"?>
<resources>
    <!-- Base theme for Material You support -->
    <style name="Theme.Revenger" parent="Theme.Material3.DynamicColors.DayNight.NoActionBar">
        <!-- Game-specific overrides - let Material 3 handle colors automatically -->
        <item name="android:windowBackground">@android:color/black</item>

        <!-- Remove forced dark colors - let Dynamic Colors work -->
        <!-- Bottom sheet specific styling -->
        <item name="bottomSheetStyle">@style/CustomBottomSheetStyle</item>

        <!-- Enable edge-to-edge -->
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:statusBarColor">@android:color/transparent</item>
        <item name="android:navigationBarColor">@android:color/transparent</item>
    </style>

    <!-- Specific theme for BottomSheetDialog with transparent background to show game -->
    <style name="Theme.Revenger.BottomSheet" parent="Theme.Material3.DynamicColors.DayNight">
        <!-- Remove forced dark colors - let Dynamic Colors handle them -->
        <item name="android:colorBackground">@android:color/transparent</item>

        <!-- Transparent window background to show game behind -->
        <item name="android:windowBackground">@android:color/transparent</item>
        <item name="android:backgroundDimEnabled">true</item>
        <item name="android:backgroundDimAmount">0.3</item>

        <!-- Status and navigation bars -->
        <item name="android:statusBarColor">@android:color/transparent</item>
        <item name="android:navigationBarColor">@android:color/transparent</item>
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:windowLightNavigationBar">false</item>

        <!-- Bottom sheet specific - ensure it anchors to bottom -->
        <item name="bottomSheetStyle">@style/AnchoredBottomSheetStyle</item>

        <!-- Window layout parameters to ensure proper positioning -->
        <item name="android:windowIsFloating">false</item>
        <item name="android:windowSoftInputMode">adjustResize</item>
    </style>

    <!-- Anchored Bottom Sheet Style to fix positioning -->
    <style name="AnchoredBottomSheetStyle" parent="Widget.Material3.BottomSheet">
        <item name="backgroundTint">@color/menu_surface_transparent</item>
        <item name="android:background">@color/menu_surface_transparent</item>
        <item name="shapeAppearance">@style/CustomBottomSheetShape</item>
        <item name="behavior_hideable">true</item>
        <item name="behavior_skipCollapsed">true</item>
        <item name="behavior_fitToContents">true</item>
    </style>

    <!-- Transparent Bottom Sheet Style for Game Menu -->
    <style name="TransparentBottomSheetStyle" parent="Widget.Material3.BottomSheet">
        <item name="backgroundTint">@color/menu_surface_transparent</item>
        <item name="android:background">@color/menu_surface_transparent</item>
        <item name="shapeAppearance">@style/CustomBottomSheetShape</item>
        <item name="behavior_peekHeight">320dp</item>
        <item name="behavior_hideable">true</item>
        <item name="behavior_skipCollapsed">false</item>
    </style>

    <!-- Original Bottom Sheet Style for comparison -->
    <style name="CustomBottomSheetStyle" parent="Widget.Material3.BottomSheet">
        <item name="backgroundTint">@color/menu_surface</item>
        <item name="android:background">@color/menu_surface</item>
        <item name="shapeAppearance">@style/CustomBottomSheetShape</item>
        <item name="behavior_peekHeight">320dp</item>
        <item name="behavior_hideable">true</item>
        <item name="behavior_skipCollapsed">false</item>
    </style>

    <!-- Bottom Sheet Shape -->
    <style name="CustomBottomSheetShape" parent="ShapeAppearance.Material3.LargeComponent">
        <item name="cornerFamily">rounded</item>
        <item name="cornerSizeTopLeft">16dp</item>
        <item name="cornerSizeTopRight">16dp</item>
        <item name="cornerSizeBottomLeft">0dp</item>
        <item name="cornerSizeBottomRight">0dp</item>
    </style>

    <!-- Menu Item Text Style -->
    <style name="GameMenuItemTextStyle">
        <item name="android:textAppearance">?attr/textAppearanceBodyLarge</item>
        <item name="android:textColor">?attr/colorOnSurface</item>
        <item name="android:gravity">center_vertical</item>
    </style>

    <!-- Floating Game Menu Theme -->
    <style name="Theme.Revenger.FloatingMenu" parent="Theme.Material3.DynamicColors.DayNight">
        <!-- Transparent background to show game behind -->
        <item name="android:windowBackground">@android:color/transparent</item>
        <item name="android:colorBackground">@android:color/transparent</item>

        <!-- No dim background, game should remain visible -->
        <item name="android:backgroundDimEnabled">true</item>
        <item name="android:backgroundDimAmount">0.4</item>

        <!-- Fullscreen support -->
        <item name="android:windowIsFloating">true</item>
        <item name="android:windowNoTitle">true</item>
        <item name="android:statusBarColor">@android:color/transparent</item>
        <item name="android:navigationBarColor">@android:color/transparent</item>
        <item name="android:windowLightStatusBar">false</item>
        <item name="android:windowLightNavigationBar">false</item>

        <!-- Remove forced colors - let Material 3 Dynamic Colors handle them -->
        <!-- Remove window animations for instant appearance -->
        <item name="android:windowAnimationStyle">@null</item>
    </style>
</resources>